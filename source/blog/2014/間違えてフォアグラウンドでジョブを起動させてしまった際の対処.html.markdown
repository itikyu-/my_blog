---
title: 間違えてフォアグラウンドでジョブを起動させてしまった際の対処(bgコマンド)
date: 2014-07-26 09:23 JST
tags: GNU/Linux
category: Tips
---

最近知ったTips．
何でこんなの今まで知らなかったのだろうかってレベルなんだけど．
バックグランド実行を忘れてしまっていた時の対処法．

この記事を書いている途中，案の定，誰に向けてどのくらいのレベルで記事を書けばよいのか分からなくなり文章が迷走しだした．
やはりこういう記事を書くのは難しい．

READMORE

### 活躍するシーン

例えば，今しがた自分がやってしまった例．

作業中にちょっとPDFのドキュメントを参照しようとしてevinceコマンドでPDFを開いた．
ただしうっかり&を付けるのを忘れてしまっていて，実行がフォアグランドで行われてしまった．
PDFを参照しながらターミナル上で作業を続けたかったのに，evinceから制御が戻ってこないので出来ない！

### 実行手順

具体的な実行手順としては

1. C-z(SIGSTP)で停止させる
2. bgコマンドで再開させる

という拍子抜けするくらい単純な操作．

### 解説

そもそもこういう問題が起こるのは，ターミナル上で実行したジョブが終了しないのでターミナルに制御が戻ってこなくなってしまうのが原因．
C-z(Ctrl押しながらz)を実行すると，フォアグラウンドで実行されているジョブへSIGSTPシグナルが送られるため，ジョブのプロセスがsuspend状態になり制御が戻ってくる．
そこで改めてbgコマンドを使ってバックグラウンドでジョブを再開させてやれば良い．

ちなみに，そのターミナルで複数のジョブが動作している場合にはjobsコマンドで一覧を確認することが出来る．
fg/bgコマンドはその際に表示されるプロセス名やジョブ番号を使って明示的に指定してやることが可能．
指定するときには頭に%をつけてやるひつようあり．
zshならこれらも勝手に補完してくれる模様．
